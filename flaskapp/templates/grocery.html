{% extends "layout.html" %}

{% block content %}
<div class="container-fluid text-center block-text" ,
    style="background-image:linear-gradient(to bottom, #17a2b8 , #005960);">
    Grocery Shops
</div>
<div class="container-fluid">
    <div class="row text-center">
        <div class="col-sm-2 bg-cipher1"></div>
        <div class="col-sm-8">
            <form class="py-3" action="" method="POST">
                <input class="form-control text-center py-2" type="text" id="latitude" name="latitude" placeholder="Laditude" value="{{ latitude }}" disabled>
                <input class="form-control text-center py-2" type="text" id="longitude" name="longitude" placeholder="Longitude" value="{{ longitude }}" disabled>
                <div class="btn-group py-3">
                    <button class="text-center btn btn-secondary" type="button" onclick="getLocation()">Get my Cordinates</button>
                    <button class="text-center btn btn-primary" type="submit" name="fetch" value="search_nearest">
                        Search for shops near my location
                    </button>
                </div>
            </form>
            <div class="text-center pt-4">
                <h1 class="">OR</h1>
            </div>
            <form class="py-5" method="POST">
                <h3 for="list" class="">Search for shops in selected area</h3>
                <select class="container-fluid" name="area" id="list" size="4">
                    <option class="border-bottom wrap-text" value="">This is a very very very very very very very very very very long option</option>
                    {% for area in areaList %}
                    <option class="border-bottom wrap-text" value="{{area}}">{{area}}</option>
                    {% endfor %}
                </select>
                <br>
                <div class="container-fluid pt-3">
                    <button type="submit" class="btn btn-primary" name="fetch" value="search_area">Fetch</button>
                </div>
            </form>
            <div class="container-fluid pb-3 px-1" id="output">
                {% if shops != [] %}
                <div class="text-center">
                    <h3 class="">Shops Near You</h3>
                </div>
                <br>
                <div class=" container-fluid table-responsive">
                    <table class="table table-striped table-hover text-center mx-auto" style="background-color: white;">
                        <colgroup>
                            <col span="1" style="width: 30%;">
                            <col span="1" style="width: 20%;">
                            <col span="1" style="width: 50%;">
                        </colgroup>
                        <thead>
                            <tr class="">
                                <th class="">Shop Name</th>
                                <th class="">Contact</th>
                                <th class="">Area</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for name,contact,address in shops %}
                            <tr class="">
                                <td class="d-table-cell">{{ name }}</td>
                                <td class="d-table-cell">{{ contact }}</td>
                                <td class="d-table-cell">{{ address }}</td>
                            </tr>
                        </tbody>
                        {% endfor %}
                    </table>
                </div>
                {% else %}
                <div class="text-center">
                    <h3 class="">Check your search results here</h3>
                </div>
                {% endif %}
            </div>
        </div>
        <div class="col-sm-2 bg-cipher1"></div>
    </div>
</div>
<div>
    <div class="col-sm-2"></div>

</div>
{% endblock content %}